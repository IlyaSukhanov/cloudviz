<html>
  <head>
    <title>CloudViz</title>
  </head>
  <body>
    <form>
      <select name="dimension_name" id="dimension_name">
      <select/>
      <select name="dimension_value" id="dimension_value">
      <select/>
      <select name="metric" id="metric">
      <select/>
    </form>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script>
    $(function() {
        function dimension_names(select_object, url_path_prefix, json_name)
        {
          $("option", select_object).remove();
          var resp = $.ajax({
          type: "GET",
          url: url_path_prefix,
          dataType: "json",
          }).then(function(data){
            $.each(data[json_name], function(index, name)
            {
                console.log("foo");
                var select_option=$("<option/>");
                select_option.attr("value", name);
                select_option.text(name);
                select_object.append(select_option);
            });
          });
          select_object.change(function(){
            var name=$(this).find("option:selected").text();
            dimension_names($("#dimension_value"), url_path_prefix + "/" + name, "dimension_values");
          });
        }
        dimension_names($("#dimension_name"), "metrics", "dimension_names");
    });
  </script>
</html
